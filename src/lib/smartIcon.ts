// –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–∫–æ–Ω–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—Å—Ç–∞ —Å–æ–±—ã—Ç–∏—è
// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç NLP-lite –ª–æ–≥–∏–∫—É —Å —á–∞—Å—Ç–∏—á–Ω—ã–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ–º –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏

import { 
  Utensils, Coffee, Beer, Wine, 
  Dumbbell, Activity, 
  Gamepad2, Code, Laptop, 
  Music, Mic, Headphones,
  TreePine, Mountain, Waves,
  Film, Popcorn, Tv,
  Car, Bike, Plane,
  BookOpen, GraduationCap, PenTool,
  Heart, Sparkles, Zap,
  Cigarette, Wind
} from 'lucide-react';

// –¢–∏–ø –¥–ª—è –∏–∫–æ–Ω–∫–∏ (—ç–º–æ–¥–∑–∏ –∏–ª–∏ Lucide –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
export type IconType = string | React.ComponentType<{ size?: number; strokeWidth?: number; className?: string }>;

// –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ (100+ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤)
const keywordGroups: Array<{ 
  keywords: string[]; 
  icon: string; 
  lucideIcon?: React.ComponentType<any>;
  priority: number;
  animationType: 'swing' | 'pulse' | 'beat' | 'flicker' | 'none';
}> = [
  // –ê–ª–∫–æ–≥–æ–ª—å/–ë–∞—Ä—ã (–≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
  {
    keywords: [
      '–±–∞—Ä', '–ø–∞–±', '–ø–∏–≤–æ', '–≤–∏–Ω–æ', '–Ω–∞–ø–∏—Ç—å—Å—è', '–≤—ã–ø–∏—Ç—å', '–∫–æ–∫—Ç–µ–π–ª–∏', '—Ç—É—Å–∞', '–≤–ø–∏—Å–∫–∞', 
      '–∞–ª–∫–æ', '—Ä—é–º–∫–∞', '–∞–ª–∫–æ–≥–æ–ª—å', '–≤—ã–ø–∏–≤–∫–∞', '–ø—å—è–Ω–∫–∞', '–ø–∏–≤–∫–æ', '–ø–∏–≤–∫–æ–º', '–∑–∞ –ø–∏–≤–∫–æ–º',
      '–≥–æ –≤ –ø–∞–±', '–≤ –±–∞—Ä', '–≤—ã–ø–∏—Ç—å –ø–∏–≤–∞', '–∫–æ–∫—Ç–µ–π–ª—å', '–≤–∏—Å–∫–∏', '—Ä–æ–º', '–¥–∂–∏–Ω', '–≤–æ–¥–∫–∞',
      '—à–∞–º–ø–∞–Ω—Å–∫–æ–µ', '–ª–∏–∫–µ—Ä', '–Ω–∞–ø–∏—Ç–∫–∏', '–∞–ª–∫–æ–≥–æ–ª—å–Ω—ã–µ', '–≤–µ—á–µ—Ä–∏–Ω–∫–∞', '—Ç—É—Å–æ–≤–∫–∞'
    ],
    icon: 'üç∫',
    lucideIcon: Beer,
    priority: 10,
    animationType: 'swing',
  },
  // –ï–¥–∞/–†–µ—Å—Ç–æ—Ä–∞–Ω—ã
  {
    keywords: [
      '–µ—Å—Ç—å', '–∫—É—à–∞—Ç—å', '–æ–±–µ–¥', '—É–∂–∏–Ω', '–ø–∏—Ü—Ü–∞', '–±—É—Ä–≥–µ—Ä', '—Å—É—à–∏', '—Ä–µ—Å—Ç–æ—Ä–∞–Ω', '–∫–∞—Ñ–µ', 
      '–≥–∞—Å—Ç—Ä–æ', '–µ–¥–∞', '—à–∞–≤–∞', '–∑–∞–∫—É—Å–∏—Ç—å', '–ø–µ—Ä–µ–∫—É—Å–∏—Ç—å', '–ø–æ—É–∂–∏–Ω–∞—Ç—å', '–ø–æ–æ–±–µ–¥–∞—Ç—å',
      '–∑–∞–≤—Ç—Ä–∞–∫', '–ª–∞–Ω—á', '—É–≥–æ—â–µ–Ω–∏–µ', '–±–ª—é–¥–æ', '–∫—É—Ö–Ω—è', '—Å—Ç–æ–ª–æ–≤–∞—è', '–±–∏—Å—Ç—Ä–æ', '—Ç—Ä–∞–ø–µ–∑–∞',
      '—à–∞—à–ª—ã–∫', '—Å—Ç–µ–π–∫', '–ø–∞—Å—Ç–∞', '—Ä–æ–ª–ª—ã', '—Å–∞–ª–∞—Ç', '—Å—É–ø', '–¥–µ—Å–µ—Ä—Ç', '—Ç–æ—Ä—Ç', '–º–æ—Ä–æ–∂–µ–Ω–æ–µ'
    ],
    icon: 'üçï',
    lucideIcon: Utensils,
    priority: 9,
    animationType: 'swing',
  },
  // –ö–æ—Ñ–µ/–ß–∞–π
  {
    keywords: [
      '–∫–æ—Ñ–µ', '–∫–æ—Ñ–µ–π–Ω—è', '–ª–∞—Ç—Ç–µ', '–∑–∞–≤—Ç—Ä–∞–∫', '–¥–µ—Å–µ—Ä—Ç', '—á–∞–π', '–ø–µ—Ä–µ—Ä—ã–≤', '–∫–∞–ø—É—á–∏–Ω–æ', 
      '—ç—Å–ø—Ä–µ—Å—Å–æ', '–∫–æ—Ñ–µ–ø–∏—Ç–∏–µ', '–∞–º–µ—Ä–∏–∫–∞–Ω–æ', '—Ä–∞—Ñ', '–∫–∞–∫–∞–æ', '–º–∞—Ç—á–∞', '—á–∞–π–Ω–∞—è',
      '–∫–æ—Ñ–µ —Å —Å–æ–±–æ–π', '–∫–æ—Ñ–µ –Ω–∞ –≤—ã–Ω–æ—Å', '–∫–æ—Ñ–µ–±—Ä–µ–π–∫', '–∫–æ—Ñ–µ-–±—Ä–µ–π–∫'
    ],
    icon: '‚òï',
    lucideIcon: Coffee,
    priority: 8,
    animationType: 'swing',
  },
  // –ë–µ–≥/–ö–∞—Ä–¥–∏–æ
  {
    keywords: [
      '–±–µ–≥', '–ø—Ä–æ–±–µ–∂–∫–∞', '–º–∞—Ä–∞—Ñ–æ–Ω', '–∫–∞—Ä–¥–∏–æ', '—Å—Ç–∞–¥–∏–æ–Ω', '–∫—Ä–æ—Å—Å–æ–≤–∫–∏', '–±–µ–≥–∞—Ç—å', 
      '–ø—Ä–æ–±–µ–∂–∞—Ç—å—Å—è', '–ø—Ä–æ–±–µ–∂–∫–∞', '–±–µ–≥–æ–≤–∞—è', '—Ç—Ä–µ–∫', '–±–µ–≥–æ–≤–∞—è –¥–æ—Ä–æ–∂–∫–∞', '—Å–ø—Ä–∏–Ω—Ç',
      '–¥–∂–æ–≥–≥–∏–Ω–≥', '–±–µ–≥ —Ç—Ä—É—Å—Ü–æ–π', '–∫—Ä–æ—Å—Å', '–∑–∞–±–µ–≥'
    ],
    icon: 'üèÉ',
    lucideIcon: Activity, // –ò—Å–ø–æ–ª—å–∑—É–µ–º Activity –≤–º–µ—Å—Ç–æ Running
    priority: 7,
    animationType: 'pulse',
  },
  // –°–ø–æ—Ä—Ç/–§–∏—Ç–Ω–µ—Å (–æ–±—â–∏–π)
  {
    keywords: [
      '—Å–ø–æ—Ä—Ç', '–∑–∞–ª', '—Ç—Ä–µ–Ω—è', '–≤–æ—Ä–∫–∞—É—Ç', '—Ç—É—Ä–Ω–∏–∫–∏', '–∫–∞—á–∞–ª–∫–∞', '–∂–µ–ª–µ–∑–æ', '—Ñ–∏—Ç–Ω–µ—Å', 
      '—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞', '—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è', '—Ç—Ä–µ–Ω–∞–∂–µ—Ä–Ω—ã–π', '—Å–ø–æ—Ä—Ç–∑–∞–ª', '–∫–∞—á–∞—Ç—å—Å—è',
      '–±–æ–¥–∏–±–∏–ª–¥–∏–Ω–≥', '–∫—Ä–æ—Å—Å—Ñ–∏—Ç', '–π–æ–≥–∞', '–ø–∏–ª–∞—Ç–µ—Å', '—Å—Ç—Ä–µ—Ç—á–∏–Ω–≥', '–≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞',
      '–±–æ–∫—Å', '–µ–¥–∏–Ω–æ–±–æ—Ä—Å—Ç–≤–∞', '–±–æ–µ–≤—ã–µ –∏—Å–∫—É—Å—Å—Ç–≤–∞', '–ø–ª–∞–≤–∞–Ω–∏–µ', '–±–∞—Å—Å–µ–π–Ω'
    ],
    icon: 'üèãÔ∏è',
    lucideIcon: Dumbbell,
    priority: 6,
    animationType: 'pulse',
  },
  // –ò–≥—Ä—ã/IT/–ù–∞—Å—Ç–æ–ª–∫–∏
  {
    keywords: [
      '–∏–≥—Ä—ã', '–Ω–∞—Å—Ç–æ–ª–∫–∏', '–ø—Ä–∏—Å—Ç–∞–≤–∫–∞', 'ps5', '–∫–æ–º–ø', '–∞–π—Ç–∏', '–∫–æ–¥', '—Ö–∞–∫–∞—Ç–æ–Ω', 
      '–Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥', '–±–∏–∑–Ω–µ—Å', '–∏–≥—Ä–∞—Ç—å', '–∫–æ–º–ø—å—é—Ç–µ—Ä', '–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ', '—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞',
      '–Ω–∞—Å—Ç–æ–ª—å–Ω—ã–µ –∏–≥—Ä—ã', '–º–æ–Ω–æ–ø–æ–ª–∏—è', '–º–∞—Ñ–∏—è', '–¥–Ω–¥', 'dnd', '–º–∞–π–Ω–∫—Ä–∞—Ñ—Ç', '–≥—Ç–∞',
      '–∫–∏–±–µ—Ä—Å–ø–æ—Ä—Ç', '–∫–∏–±–µ—Ä', '–∫–∏–±–µ—Ä—Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ', '—Ç—É—Ä–Ω–∏—Ä', '—á–µ–º–ø–∏–æ–Ω–∞—Ç', '—Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ',
      '–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç', '—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫', '–∞–π—Ç–∏—à–Ω–∏–∫', '–∞–π—Ç–∏—à–Ω–∏–∫–∏', '–∞–π—Ç–∏ —Å—Ñ–µ—Ä–∞'
    ],
    icon: 'üíª',
    lucideIcon: Gamepad2,
    priority: 5,
    animationType: 'beat',
  },
  // –ú—É–∑—ã–∫–∞/–¢–∞–Ω—Ü—ã/–ö–ª—É–±—ã
  {
    keywords: [
      '–∫–æ–Ω—Ü–µ—Ä—Ç', '–º—É–∑—ã–∫–∞', '—Ç–∞–Ω—Ü—ã', '–¥–∏—Å–∫–æ', '–∫–ª—É–±', '–≥–∏—Ç–∞—Ä–∞', '–ø–µ—Ç—å', '–∫–∞—Ä–∞–æ–∫–µ', 
      '—Å—Ç–µ–Ω–¥–∞–ø', '–≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–µ', 'dj', '–º—É–∑—ã–∫–∞–Ω—Ç', '–∫–æ–Ω—Ü–µ—Ä—Ç–Ω–∞—è', '—Å—Ü–µ–Ω–∞', '—Å—Ü–µ–Ω–∏—á–µ—Å–∫–æ–µ',
      '—Ä–æ–∫', '–¥–∂–∞–∑', '—ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –º—É–∑—ã–∫–∞', '—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞', '—Ö–∞—É—Å', '—Ç–µ—Ö–Ω–æ', '—Ç—Ä–∞–Ω—Å',
      '—Ä–µ–ø', '—Ö–∏–ø-—Ö–æ–ø', '—Ä—ç–ø', '–ø–æ–ø', '–∫–ª–∞—Å—Å–∏–∫–∞', '–æ—Ä–∫–µ—Å—Ç—Ä', '—Å–∏–º—Ñ–æ–Ω–∏—è', '–æ–ø–µ—Ä–∞',
      '–±–∞–ª–µ—Ç', '—Ö–æ—Ä–µ–æ–≥—Ä–∞—Ñ–∏—è', '—Ç–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã–π', '—Ç–∞–Ω—Ü–ø–æ–ª', '—Ç–∞–Ω—Ü–ø–ª–æ—â–∞–¥–∫–∞'
    ],
    icon: 'üé∏',
    lucideIcon: Music,
    priority: 4,
    animationType: 'beat',
  },
  // –ü—Ä–æ–≥—É–ª–∫–∏/–ü—Ä–∏—Ä–æ–¥–∞/–ê–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–¥—ã—Ö
  {
    keywords: [
      '–≥—É–ª—è—Ç—å', '–ø–∞—Ä–∫', '–ª–µ—Å', '–ø—Ä–∏—Ä–æ–¥–∞', '—Å–≤–µ–∂–∏–π –≤–æ–∑–¥—É—Ö', '–æ–∑–µ—Ä–æ', '–Ω–∞–±–µ—Ä–µ–∂–Ω–∞—è', 
      '–ø—Ä–æ–≥—É–ª–∫–∞', '–ø—Ä–æ–π—Ç–∏—Å—å', '–ø–æ–≥—É–ª—è—Ç—å', '–ø–æ—Ö–æ–¥', '–ø–æ—Ö–æ–¥—ã', '–ø–µ—à–∏–π', '–ø–µ—à–∫–æ–º',
      '–≥–æ—Ä—ã', '–∞–ª—å–ø–∏–Ω–∏–∑–º', '—Å–∫–∞–ª–æ–ª–∞–∑–∞–Ω–∏–µ', '–≤–µ–ª–æ—Å–∏–ø–µ–¥', '–≤–µ–ª–æ—Å–∏–ø–µ–¥–Ω–∞—è', '–≤–µ–ª–æ–ø—Ä–æ–≥—É–ª–∫–∞',
      '—Ä—ã–±–∞–ª–∫–∞', '–æ—Ö–æ—Ç–∞', '–∫–µ–º–ø–∏–Ω–≥', '–ø–∞–ª–∞—Ç–∫–∞', '–∫–æ—Å—Ç–µ—Ä', '–±–∞—Ä–±–µ–∫—é', '—à–∞—à–ª—ã–∫–∏',
      '–ø–ª—è–∂', '–º–æ—Ä–µ', '–æ–∫–µ–∞–Ω', '—Ä–µ–∫–∞', '–≤–æ–¥–æ–ø–∞–¥', '–∫–∞–Ω—å–æ–Ω', '—É—â–µ–ª—å–µ'
    ],
    icon: 'üå≥',
    lucideIcon: TreePine,
    priority: 3,
    animationType: 'none',
  },
  // –ß–∏–ª–∞—É—Ç/–ö–∏–Ω–æ/–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è
  {
    keywords: [
      '–æ—Ç–¥—ã—Ö', '–ø–æ–±–æ–ª—Ç–∞—Ç—å', '–∫–∞–ª—å—è–Ω', '–¥—ã–º', '—Ä–∞—Å—Å–ª–∞–±–∏—Ç—å—Å—è', '–∫–∏–Ω–æ', '—Ñ–∏–ª—å–º', 
      '—Å–µ—Ä–∏–∞–ª', '–æ—Ç–¥–æ—Ö–Ω—É—Ç—å', '—á–∏–ª–∞—É—Ç', '—Ä–µ–ª–∞–∫—Å', '—Ä–µ–ª–∞–∫—Å–∞—Ü–∏—è', '–º–µ–¥–∏—Ç–∞—Ü–∏—è',
      '–∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä', '–ø—Ä–µ–º—å–µ—Ä–∞', '–ø—Ä–æ—Å–º–æ—Ç—Ä', '—Å–º–æ—Ç—Ä–µ—Ç—å', '–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å', '–Ω–æ–≤—ã–π —Ñ–∏–ª—å–º',
      '—Å–µ—Ä–∏–∞–ª', '—Å–µ—Ä–∏–∞–ª—ã', '—Å—Ç—Ä–∏–º–∏–Ω–≥', '–Ω–µ—Ç—Ñ–ª–∏–∫—Å', 'netflix', '–¥–∏—Å–Ω–µ–π', 'disney',
      '–ø–æ–ø–∫–æ—Ä–Ω', '–∫–∏–Ω–æ—Å–µ–∞–Ω—Å', '—Å–µ–∞–Ω—Å', '–º—É–ª—å—Ç—Ñ–∏–ª—å–º', '–∞–Ω–∏–º–∞—Ü–∏—è', '–¥–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π'
    ],
    icon: 'üé¨',
    lucideIcon: Film,
    priority: 2,
    animationType: 'none',
  },
  // –ê–≤—Ç–æ/–ú–æ—Ç–æ
  {
    keywords: [
      '–º–∞—à–∏–Ω–∞', '–∞–≤—Ç–æ', '–∞–≤—Ç–æ–º–æ–±–∏–ª—å', '–º–æ—Ç–æ', '–º–æ—Ç–æ—Ü–∏–∫–ª', '–±–∞–π–∫', '—Å–∫—É—Ç–µ—Ä',
      '–ø–æ–∫–∞—Ç–∞—Ç—å—Å—è', '–ø–æ–µ–∑–¥–∫–∞', '–¥—Ä–∞–π–≤', '–≥–æ–Ω–∫–∏', '–∞–≤—Ç–æ–≥–æ–Ω–∫–∏', '–º–æ—Ç–æ—Å–ø–æ—Ä—Ç',
      '–∫–∞—Ä—Ç–∏–Ω–≥', '–∞–≤—Ç–æ–¥—Ä–æ–º', '—Ç—Ä–µ–∫', '–∞–≤—Ç–æ—Å–æ–±—ã—Ç–∏–µ', '–∞–≤—Ç–æ–≤—Å—Ç—Ä–µ—á–∞', '–∞–≤—Ç–æ—Å–±–æ—Ä'
    ],
    icon: 'üöó',
    lucideIcon: Car,
    priority: 5,
    animationType: 'beat',
  },
  // –£—á–µ–±–∞/–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
  {
    keywords: [
      '—É—á–µ–±–∞', '—É—á–∏—Ç—å', '–∏–∑—É—á–µ–Ω–∏–µ', '–æ–±—É—á–µ–Ω–∏–µ', '–ª–µ–∫—Ü–∏—è', '—Å–µ–º–∏–Ω–∞—Ä', '–∫—É—Ä—Å',
      '—à–∫–æ–ª–∞', '—É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç', '–∏–Ω—Å—Ç–∏—Ç—É—Ç', '–∫–æ–ª–ª–µ–¥–∂', '–±–∏–±–ª–∏–æ—Ç–µ–∫–∞', '—á–∏—Ç–∞–ª—å–Ω—ã–π –∑–∞–ª',
      '–∫–æ–Ω—Å–ø–µ–∫—Ç', '—ç–∫–∑–∞–º–µ–Ω', '–∑–∞—á–µ—Ç', '—Å–µ—Å—Å–∏—è', '–¥–∏–ø–ª–æ–º', '–¥–∏—Å—Å–µ—Ä—Ç–∞—Ü–∏—è', '–Ω–∞—É–∫–∞',
      '–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ', '–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è', '—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç', '–ø—Ä–æ–µ–∫—Ç', '–¥–∏–ø–ª–æ–º–Ω–∞—è —Ä–∞–±–æ—Ç–∞'
    ],
    icon: 'üìö',
    lucideIcon: BookOpen,
    priority: 4,
    animationType: 'none',
  },
  // –†–æ–º–∞–Ω—Ç–∏–∫–∞/–°–≤–∏–¥–∞–Ω–∏—è
  {
    keywords: [
      '—Å–≤–∏–¥–∞–Ω–∏–µ', '—Ä–æ–º–∞–Ω—Ç–∏–∫–∞', '—Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π', '—Ä–æ–º–∞–Ω—Ç–∏—á–Ω–æ', '–≤–ª—é–±–ª–µ–Ω–Ω—ã–µ',
      '–ø–∞—Ä–∞', '–≤–º–µ—Å—Ç–µ', '—Ç–æ–ª—å–∫–æ –º—ã', '–¥–ª—è –¥–≤–æ–∏—Ö', '—É–∂–∏–Ω –ø—Ä–∏ —Å–≤–µ—á–∞—Ö', '–ø—Ä–æ–≥—É–ª–∫–∞ –≤–¥–≤–æ–µ–º',
      '–≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞', '–¥–µ–Ω—å –≤–ª—é–±–ª–µ–Ω–Ω—ã—Ö', '14 —Ñ–µ–≤—Ä–∞–ª—è', '–ª—é–±–æ–≤—å', '—Å–µ—Ä–¥—Ü–µ'
    ],
    icon: 'üíï',
    lucideIcon: Heart,
    priority: 3,
    animationType: 'pulse',
  },
  // –ò—Å–∫—Ä–∞/–≠–Ω–µ—Ä–≥–∏—è
  {
    keywords: [
      '–∏—Å–∫—Ä–∞', '–∏–º–ø—É–ª—å—Å', '—ç–Ω–µ—Ä–≥–∏—è', '–¥—Ä–∞–π–≤', '–∞–¥—Ä–µ–Ω–∞–ª–∏–Ω', '—ç–∫—Å—Ç—Ä–∏–º', '—ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π',
      '—ç–∫—à–Ω', '–¥–µ–π—Å—Ç–≤–∏–µ', '–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å', '–∞–∫—Ç–∏–≤–Ω—ã–π', '–¥–∏–Ω–∞–º–∏–∫–∞', '–¥–∏–Ω–∞–º–∏—á–Ω—ã–π'
    ],
    icon: 'üî•',
    lucideIcon: Sparkles,
    priority: 8,
    animationType: 'flicker',
  },
];

// Fallback –∏–∫–æ–Ω–∫–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π)
const categoryIcons: Record<string, string> = {
  '–ò—Å–∫—Ä–∞': 'üî•',
  'Spark': 'üî•',
  '–ò–º–ø—É–ª—å—Å': '‚ö°',
  'Impulse': '‚ö°',
  '–ê—Ñ–∏—à–∞': 'üìÖ',
  'ArtGo': 'üìÖ',
  '–ò—Å—Å–ª–µ–¥—É–π': 'üîç',
  'Walk Around': 'üîç',
  '–ì–∞—Å—Ç—Ä–æ—Ç—É—Ä': 'üç¥',
  'Tasty Spots': 'üç¥',
  '–í —Ä–∏—Ç–º–µ': 'üéµ',
  'In Sync': 'üéµ',
  '–•–æ–±–±–∏': '‚ù§Ô∏è',
  'Hobby': '‚ù§Ô∏è',
  '–ë–ª–∏–∑–∫–∏–µ': 'ü§ù',
  'Nearby': 'ü§ù',
};

/**
 * –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–∫–æ–Ω–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—Å—Ç–∞ —Å–æ–±—ã—Ç–∏—è
 * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç NLP-lite –ª–æ–≥–∏–∫—É —Å —á–∞—Å—Ç–∏—á–Ω—ã–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ–º –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
 * 
 * @param description - –¢–µ–∫—Å—Ç –æ–ø–∏—Å–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏—è
 * @param category - –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Å–æ–±—ã—Ç–∏—è (–¥–ª—è fallback)
 * @returns –û–±—ä–µ–∫—Ç —Å —ç–º–æ–¥–∑–∏ –∏–∫–æ–Ω–∫–æ–π, —Ç–∏–ø–æ–º –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ Lucide –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º
 */
export function getSmartIcon(description: string, category?: string): {
  emoji: string;
  animationType: 'swing' | 'pulse' | 'beat' | 'flicker' | 'none';
  lucideIcon?: React.ComponentType<any>;
} {
  if (!description || typeof description !== 'string') {
    // Fallback –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é, –µ—Å–ª–∏ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—É—Å—Ç–æ–µ
    const fallbackEmoji = category ? (categoryIcons[category] || '‚ú®') : '‚ú®';
    return {
      emoji: fallbackEmoji,
      animationType: 'none',
    };
  }

  // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º —Ç–µ–∫—Å—Ç: –ø—Ä–∏–≤–æ–¥–∏–º –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É –∏ —É–¥–∞–ª—è–µ–º –ª–∏—à–Ω–∏–µ —Å–∏–º–≤–æ–ª—ã
  const normalizedText = description.toLowerCase().trim();
  
  // –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π, –∏—Å–ø–æ–ª—å–∑—É–µ–º fallback
  if (normalizedText.length < 2) {
    const fallbackEmoji = category ? (categoryIcons[category] || '‚ú®') : '‚ú®';
    return {
      emoji: fallbackEmoji,
      animationType: 'none',
    };
  }

  // –ò—â–µ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
  let bestMatch: { 
    emoji: string; 
    priority: number; 
    animationType: 'swing' | 'pulse' | 'beat' | 'flicker' | 'none';
    lucideIcon?: React.ComponentType<any>;
  } | null = null;

  for (const group of keywordGroups) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥–æ–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ –Ω–∞ —á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
    for (const keyword of group.keywords) {
      if (normalizedText.includes(keyword.toLowerCase())) {
        // –ï—Å–ª–∏ –Ω–∞—à–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∏ –æ–Ω–æ –∏–º–µ–µ—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
        if (!bestMatch || group.priority > bestMatch.priority) {
          bestMatch = {
            emoji: group.icon,
            priority: group.priority,
            animationType: group.animationType,
            lucideIcon: group.lucideIcon,
          };
          // –ü—Ä–µ—Ä—ã–≤–∞–µ–º –ø–æ–∏—Å–∫ –≤ —ç—Ç–æ–π –≥—Ä—É–ø–ø–µ, —Ç–∞–∫ –∫–∞–∫ –Ω–∞—à–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
          break;
        }
      }
    }
  }

  // –ï—Å–ª–∏ –Ω–∞—à–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∏–∫–æ–Ω–∫—É
  if (bestMatch) {
    return {
      emoji: bestMatch.emoji,
      animationType: bestMatch.animationType,
      lucideIcon: bestMatch.lucideIcon,
    };
  }

  // Fallback: –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏–∫–æ–Ω–∫—É –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  const fallbackEmoji = category ? (categoryIcons[category] || '‚ú®') : '‚ú®';
  return {
    emoji: fallbackEmoji,
    animationType: 'none',
  };
}

/**
 * –ü–æ–ª—É—á–∏—Ç—å –∏–∫–æ–Ω–∫—É –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
 */
export function getCategoryIcon(category: string): string {
  return categoryIcons[category] || '‚ú®';
}
