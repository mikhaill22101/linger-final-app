# –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, OAuth, Duo —Ä–µ–∂–∏–º –∏ UUID —Ç–∏–ø—ã

## ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

### 1. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –ø–æ–ª–æ–º ‚úÖ

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –í—ã–±–æ—Ä –ø–æ–ª–∞ (–ú—É–∂—á–∏–Ω–∞ / –ñ–µ–Ω—â–∏–Ω–∞) –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è" –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –¥–æ –≤—ã–±–æ—Ä–∞ –ø–æ–ª–∞
- ‚úÖ –ó–Ω–∞—á–µ–Ω–∏–µ `gender` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `profiles` –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ Google/Apple/Telegram –∏ —É –Ω–µ–≥–æ `gender === null`, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è (`CompleteProfileScreen`)
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ –∫–∞—Ä—Ç–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ –≤—ã–±–æ—Ä–∞ –ø–æ–ª–∞

**–§–∞–π–ª—ã:**
- `src/components/AuthScreen.tsx` - –î–æ–±–∞–≤–ª–µ–Ω –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –ø–æ–ª–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `src/components/CompleteProfileScreen.tsx` - –≠–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–æ–ª–∞
- `src/lib/auth-universal.ts` - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `signUpWithEmail` –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è `gender`
- `src/App.tsx` - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ –∏ —ç–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è

### 2. –ö–Ω–æ–ø–∫–∏ –≤—Ö–æ–¥–∞ (OAuth) ‚úÖ

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –°—Ç–∏–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google" –∏ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Apple" –Ω–∞ —ç–∫—Ä–∞–Ω–µ –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `supabase.auth.signInWithOAuth` —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ `google` –∏ `apple`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–≤–∞—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ Telegram —á–µ—Ä–µ–∑ `window.Telegram.WebApp.initDataUnsafe.user`
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ OAuth —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ `onAuthStateChange`
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞ –≤—Ö–æ–¥–∞

**–§–∞–π–ª—ã:**
- `src/components/AuthScreen.tsx` - –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ OAuth (Google, Apple)
- `src/lib/auth-universal.ts` - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `signInWithGoogle()` –∏ `signInWithApple()`
- `src/App.tsx` - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ OAuth —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ `onAuthStateChange`

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ OAuth:**
1. **Google:** Supabase Dashboard ‚Üí Authentication ‚Üí Providers ‚Üí Google ‚Üí –í—Å—Ç–∞–≤–∏—Ç—å Client ID –∏ Client Secret
2. **Apple:** Supabase Dashboard ‚Üí Authentication ‚Üí Providers ‚Üí Apple ‚Üí –í—Å—Ç–∞–≤–∏—Ç—å Services ID, Team ID, Key ID, Private Key

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram Mini App ‚úÖ

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Telegram Mini App
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ `window.Telegram.WebApp.initDataUnsafe.user`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ/–≤—Ö–æ–¥ –≤ –ø—Ä–æ—Ñ–∏–ª—å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏
- ‚úÖ –ï—Å–ª–∏ `gender === null`, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è

**–§–∞–π–ª—ã:**
- `src/components/AuthScreen.tsx` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram Mini App
- `src/lib/auth-universal.ts` - –§—É–Ω–∫—Ü–∏—è `signInWithTelegram()` –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å UUID

### 4. –†–µ–∂–∏–º Duo (–¢–µ—Ç-–∞-—Ç–µ—Ç) ‚úÖ

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –ñ–µ—Å—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏: —Ä–∏—Å–æ–≤–∞–Ω–∏–µ –∫—Ä—É–≥–∞ –ø–∞–ª—å—Ü–µ–º + —Ç–∞–ø –≤ —Ü–µ–Ω—Ç—Ä –¥–ª—è —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–∞ 180 –≥—Ä–∞–¥—É—Å–æ–≤
- ‚úÖ –í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –ª—é–±–æ–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ –∏–º–µ–µ—Ç —Ñ–ª–∞–≥ `is_duo_event: true`
- ‚úÖ –õ–æ–≥–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤: –ª—é–±–æ–π –ø–æ–ª –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å, –Ω–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∏—Ö —Å–∫—Ä—ã—Ç–Ω–æ
- ‚úÖ –°–æ–∑–¥–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –∏–∑ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –ø—Ä–∏—ë–º –¥—Ä—É–≥–∏—Ö –∑–∞—è–≤–æ–∫ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ –ø–æ–ª—É (male/female/all)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `src/components/CircleGestureDetector.tsx` - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∫—Ä—É–≥–æ–≤–æ–≥–æ –∂–µ—Å—Ç–∞ –∏ —Ç–∞–ø–∞ –≤ —Ü–µ–Ω—Ç—Ä
- `src/components/DuoEventRequestsManager.tsx` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –Ω–∞ —É—á–∞—Å—Ç–∏–µ –≤ Duo-—Å–æ–±—ã—Ç–∏–∏
- `src/components/DuoEventRequestButton.tsx` - –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —É—á–∞—Å—Ç–∏–µ
- `src/lib/duoEvents.ts` - –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Duo-—Å–æ–±—ã—Ç–∏—è–º–∏ –∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏
- `src/context/LingerDuoContext.tsx` - –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–∂–∏–º–∞ Duo

**–§–∞–π–ª—ã:**
- `src/App.tsx` - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–µ–∂–∏–º–∞ Duo, –∂–µ—Å—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏, 3D —Ä–∞–∑–≤–æ—Ä–æ—Ç, —Å–æ–∑–¥–∞–Ω–∏–µ Duo-—Å–æ–±—ã—Ç–∏–π
- `supabase/migrations/003_duo_events.sql` - SQL –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è Duo-—Å–æ–±—ã—Ç–∏–π –∏ –∑–∞–ø—Ä–æ—Å–æ–≤

### 5. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ UUID ‚úÖ

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –í—Å–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è UUID –∏—Å–ø–æ–ª—å–∑—É—é—Ç `String()` –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏: `String(id1) === String(id2)`
- ‚úÖ –í—Å–µ –ø–æ–ª—è `creator_id`, `user_id`, `selected_participant_id` —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∫–∞–∫ `string` (UUID)
- ‚úÖ –ü—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ UUID –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Å—Ç—Ä–æ–∫—É —è–≤–Ω–æ–µ: `String(selectedEventDetail.creator_id)`
- ‚úÖ –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î –∏—Å–ø–æ–ª—å–∑—É—é—Ç UUID (—Å—Ç—Ä–æ–∫–∏) –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –º–µ—Å—Ç–∞:**
```typescript
// src/lib/duoEvents.ts
if (String(event.creator_id) === String(userId)) { ... }
if (!event || String(event.creator_id) !== String(creatorId)) { ... }

// src/App.tsx
const isCreator = String(selectedEventDetail.creator_id) === String(currentUserId);
const friendProfile = String(friendship.user_id) === String(currentUserId) ? ... : ...;
creatorId={String(selectedEventDetail.creator_id)} // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º UUID –≤ —Å—Ç—Ä–æ–∫—É

// src/components/DuoEventRequestsManager.tsx
const selectedRequest = requests.find(r => String(r.user_id) === String(selectedParticipantId));
```

## üìã SQL –º–∏–≥—Ä–∞—Ü–∏–∏

### –ú–∏–≥—Ä–∞—Ü–∏—è 004: –ü–æ–ª–µ gender
```sql
-- supabase/migrations/004_add_gender_field.sql
ALTER TABLE profiles 
ADD COLUMN IF NOT EXISTS gender TEXT CHECK (gender IN ('male', 'female', 'prefer_not_to_say'));

ALTER TABLE profiles 
ALTER COLUMN gender DROP NOT NULL;
```

### –ú–∏–≥—Ä–∞—Ü–∏—è 005: OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
```sql
-- supabase/migrations/005_oauth_providers.sql
COMMENT ON COLUMN profiles.gender IS '–ü–æ–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é). NULL –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ—Ñ–∏–ª—å –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω.';
```

### –ú–∏–≥—Ä–∞—Ü–∏—è 003: Duo —Å–æ–±—ã—Ç–∏—è (—É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ —Ä–∞–Ω–µ–µ)
```sql
-- supabase/migrations/003_duo_events.sql
ALTER TABLE impulses ADD COLUMN IF NOT EXISTS is_duo_event BOOLEAN DEFAULT FALSE;
ALTER TABLE impulses ADD COLUMN IF NOT EXISTS selected_participant_id UUID;
CREATE TABLE IF NOT EXISTS event_requests (...);
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –≤—ã–±–æ—Ä–æ–º –ø–æ–ª–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
2. –í–≤–µ–¥–∏—Ç–µ Email, –ü–∞—Ä–æ–ª—å, –ò–º—è
3. **–ù–µ –≤—ã–±–∏—Ä–∞–π—Ç–µ –ø–æ–ª** ‚Üí ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è" –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞
4. **–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª** ‚Üí ‚úÖ –ö–Ω–æ–ø–∫–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
5. –ù–∞–∂–º–∏—Ç–µ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è" ‚Üí ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ë–î: `gender` —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ —Ç–∞–±–ª–∏—Ü–µ `profiles`

### –¢–µ—Å—Ç 2: OAuth –≤—Ö–æ–¥ (Google/Apple)
1. –ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google" –∏–ª–∏ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Apple"
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤ OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ
3. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
4. ‚úÖ –ï—Å–ª–∏ `gender === null`, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
5. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª –∏ –Ω–∞–∂–º–∏—Ç–µ "–ó–∞–≤–µ—Ä—à–∏—Ç—å"
6. ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

### –¢–µ—Å—Ç 3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram Mini App
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Telegram Mini App
2. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
3. ‚úÖ –ï—Å–ª–∏ `gender === null`, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
4. –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –ø–æ–ª–∞ ‚Üí ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

### –¢–µ—Å—Ç 4: –†–µ–∂–∏–º Duo (–∂–µ—Å—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏)
1. –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω–∞—Ä–∏—Å—É–π—Ç–µ –∫—Ä—É–≥ –ø–∞–ª—å—Ü–µ–º
2. ‚úÖ –ü–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è –ª–∏–Ω–∏—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏
3. ‚úÖ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫—Ä—É–≥–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä –∫—Ä—É–≥–∞
4. ‚úÖ –ù–∞–∂–º–∏—Ç–µ –≤ —Ü–µ–Ω—Ç—Ä –∫—Ä—É–≥–∞
5. ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 180 –≥—Ä–∞–¥—É—Å–æ–≤ (3D –∞–Ω–∏–º–∞—Ü–∏—è)
6. ‚úÖ –§–æ–Ω –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ —Ç–µ–º–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç
7. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è ‚Üí ‚úÖ `is_duo_event: true` –≤ –ë–î

### –¢–µ—Å—Ç 5: Duo-—Å–æ–±—ã—Ç–∏—è –∏ –∑–∞–ø—Ä–æ—Å—ã
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A —Å–æ–∑–¥–∞–µ—Ç Duo-—Å–æ–±—ã—Ç–∏–µ (–≤ —Ä–µ–∂–∏–º–µ Duo)
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —É—á–∞—Å—Ç–∏–µ
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å C —Ç–∞–∫–∂–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å
4. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A –≤–∏–¥–∏—Ç –æ–±–∞ –∑–∞–ø—Ä–æ—Å–∞ (—Å–∫—Ä—ã—Ç–Ω–æ)
5. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B –∏ C –Ω–µ –≤–∏–¥—è—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞
6. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A –º–æ–∂–µ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø–æ –ø–æ–ª—É
7. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è B
8. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å C –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ
9. ‚úÖ –ù–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –±–æ–ª—å—à–µ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è

### –¢–µ—Å—Ç 6: –¢–∏–ø—ã UUID
1. –°–æ–∑–¥–∞–π—Ç–µ —Å–æ–±—ã—Ç–∏–µ —á–µ—Ä–µ–∑ Email —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
2. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Google OAuth
3. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Telegram Mini App
4. ‚úÖ –í—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ UUID –∏–∑ Supabase Auth
5. ‚úÖ –í—Å–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è UUID —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–±–µ–∑ –æ—à–∏–±–æ–∫ —Ç–∏–ø–æ–≤)

## ‚ú® –ì–æ—Ç–æ–≤–æ!

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã:
- ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –ø–æ–ª–æ–º
- ‚úÖ OAuth –∫–Ω–æ–ø–∫–∏ (Google, Apple)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram Mini App
- ‚úÖ –†–µ–∂–∏–º Duo —Å –∂–µ—Å—Ç–∫–∏–º –∞–∫—Ç–∏–≤–∞—Ç–æ—Ä–æ–º (–∫—Ä—É–≥ + —Ç–∞–ø)
- ‚úÖ Duo-—Å–æ–±—ã—Ç–∏—è —Å –ª–æ–≥–∏–∫–æ–π –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ UUID (–≤—Å–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç String())

**–ü—Ä–∏–º–µ–Ω–∏—Ç–µ SQL –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ Supabase Dashboard –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è!**

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `OAUTH_AND_GENDER_GUIDE.md`.
