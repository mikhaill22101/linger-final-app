# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ–ª –∏ –º—É–ª—å—Ç–∏-–≤—Ö–æ–¥ (Google, Apple, Telegram)

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –ø–æ–ª–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ –≤—ã–±–æ—Ä–∞ –ø–æ–ª–∞ –≤ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è" –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞, –ø–æ–∫–∞ –ø–æ–ª –Ω–µ –≤—ã–±—Ä–∞–Ω
- ‚úÖ –ü–æ–ª–µ `gender` –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `profiles` –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: –µ—Å–ª–∏ `gender === null`, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
- –î–≤–µ –∫–Ω–æ–ø–∫–∏: "–ú—É–∂—á–∏–Ω–∞" / "–ñ–µ–Ω—â–∏–Ω–∞"
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–æ–ª–∞ (–ø–æ–¥—Å–≤–µ—Ç–∫–∞)
- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ, –µ—Å–ª–∏ –ø–æ–ª –Ω–µ –≤—ã–±—Ä–∞–Ω

### 2. OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (Google, Apple)

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `signInWithGoogle()` –∏ `signInWithApple()` –≤ `auth-universal.ts`
- ‚úÖ –ö–Ω–æ–ø–∫–∏ OAuth –Ω–∞ —ç–∫—Ä–∞–Ω–µ –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ OAuth —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ `onAuthStateChange`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ —á–µ—Ä–µ–∑ OAuth

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Supabase:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ **Supabase Dashboard ‚Üí Authentication ‚Üí Providers**
2. –í–∫–ª—é—á–∏—Ç–µ **Google** –∏ **Apple**
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ OAuth credentials (Client ID, Client Secret)
4. –î–æ–±–∞–≤—å—Ç–µ Redirect URL: `https://your-domain.com` (–∏–ª–∏ `http://localhost:5173` –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

**–ö–æ–¥:**
```typescript
// src/lib/auth-universal.ts
export const signInWithGoogle = async (): Promise<{ success: boolean; error?: string }> => {
  const { data, error } = await supabase.auth.signInWithOAuth({
    provider: 'google',
    options: {
      redirectTo: `${window.location.origin}${window.location.pathname}`,
    },
  });
  // ...
};
```

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram Mini App

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Telegram Mini App
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ `window.Telegram.WebApp.initDataUnsafe.user`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ/–≤—Ö–æ–¥ –≤ –ø—Ä–æ—Ñ–∏–ª—å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—Ö–æ–¥–µ

**–õ–æ–≥–∏–∫–∞:**
1. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ `window.Telegram.WebApp`
2. –ï—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω, –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ `initDataUnsafe.user`
3. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `signInWithTelegram()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–≤—Ö–æ–¥–∞ –≤ –ø—Ä–æ—Ñ–∏–ª—å
4. –ï—Å–ª–∏ `gender === null`, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è

### 4. –≠–∫—Ä–∞–Ω "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è"

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `CompleteProfileScreen.tsx`
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –µ—Å–ª–∏ `user.gender === null`
- ‚úÖ –ë–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –¥–æ –≤—ã–±–æ—Ä–∞ –ø–æ–ª–∞
- ‚úÖ –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –ø–æ–ª–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
- –ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω –≤ —Å—Ç–∏–ª–µ Linger
- –î–≤–µ –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ –ø–æ–ª–∞: "–ú—É–∂—á–∏–Ω–∞" / "–ñ–µ–Ω—â–∏–Ω–∞"
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –ø–æ–ª—è
- –ö–Ω–æ–ø–∫–∞ "–ó–∞–≤–µ—Ä—à–∏—Ç—å" –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞, –ø–æ–∫–∞ –ø–æ–ª –Ω–µ –≤—ã–±—Ä–∞–Ω

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ `user.gender` –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ï—Å–ª–∏ `gender === null`, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ –≤—ã–±–æ—Ä–∞ –ø–æ–ª–∞
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ –≤—Ö–æ–¥–∞: Email, Phone, Google, Apple, Telegram

**–õ–æ–≥–∏–∫–∞:**
```typescript
// src/App.tsx
const handleAuthSuccess = async (user: AuthUser) => {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å (–≤—ã–±—Ä–∞—Ç—å –ø–æ–ª)
  if (!user.gender) {
    setNeedsProfileCompletion(true);
    return; // –ù–µ –∑–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ, –ø–æ–∫–∞ –ø—Ä–æ—Ñ–∏–ª—å –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω
  }
  // –ü—Ä–æ—Ñ–∏–ª—å –∑–∞–≤–µ—Ä—à–µ–Ω, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º...
};
```

### 6. –û–±—Ä–∞–±–æ—Ç–∫–∞ OAuth —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ OAuth —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ `supabase.auth.getSession()`
- ‚úÖ –°–ª—É—à–∞—Ç–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–µ—Å—Å–∏–∏ —á–µ—Ä–µ–∑ `onAuthStateChange`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π `SIGNED_IN` –∏ `SIGNED_OUT`
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤ –≤–µ–±-–≤–µ—Ä—Å–∏–∏ –∏ Telegram WebView

**–ö–æ–¥:**
```typescript
// src/App.tsx
useEffect(() => {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º OAuth —Ä–µ–¥–∏—Ä–µ–∫—Ç
  const { data: { session } } = await supabase.auth.getSession();
  
  if (session) {
    // OAuth —Ä–µ–¥–∏—Ä–µ–∫—Ç –ø—Ä–æ–∏–∑–æ—à–µ–ª, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–µ—Å—Å–∏—é
    const user = await getCurrentUser();
    if (user) {
      await handleAuthSuccess(user);
    }
  }
  
  // –°–ª—É—à–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏
  const { data: { subscription } } = supabase.auth.onAuthStateChange(async (event, session) => {
    if (event === 'SIGNED_IN' && session) {
      const user = await getCurrentUser();
      if (user) {
        await handleAuthSuccess(user);
      }
    }
  });
  
  return () => subscription.unsubscribe();
}, []);
```

## üìã SQL –º–∏–≥—Ä–∞—Ü–∏–∏

### –ú–∏–≥—Ä–∞—Ü–∏—è 005: OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

```sql
-- supabase/migrations/005_oauth_providers.sql
-- –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø–æ–ª—é gender
COMMENT ON COLUMN profiles.gender IS '–ü–æ–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é). NULL –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ—Ñ–∏–ª—å –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω.';
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü–æ–ª–µ `gender` –Ω–µ –¥–µ–ª–∞–µ—Ç—Å—è `NOT NULL` –≤ –ë–î, —á—Ç–æ–±—ã –Ω–µ —Å–ª–æ–º–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

### Google OAuth

1. **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Google Cloud Console:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://console.cloud.google.com
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
   - –í–∫–ª—é—á–∏—Ç–µ Google+ API

2. **–°–æ–∑–¥–∞–π—Ç–µ OAuth 2.0 credentials:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **APIs & Services ‚Üí Credentials**
   - –ù–∞–∂–º–∏—Ç–µ **Create Credentials ‚Üí OAuth client ID**
   - –í—ã–±–µ—Ä–∏—Ç–µ **Web application**
   - –î–æ–±–∞–≤—å—Ç–µ **Authorized redirect URIs:**
     - `https://[your-project-ref].supabase.co/auth/v1/callback`
     - `http://localhost:5173` (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤ Supabase:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ **Supabase Dashboard ‚Üí Authentication ‚Üí Providers ‚Üí Google**
   - –í—Å—Ç–∞–≤—å—Ç–µ **Client ID** –∏ **Client Secret**
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### Apple OAuth

1. **–°–æ–∑–¥–∞–π—Ç–µ App ID –≤ Apple Developer:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://developer.apple.com
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π App ID
   - –í–∫–ª—é—á–∏—Ç–µ **Sign in with Apple**

2. **–°–æ–∑–¥–∞–π—Ç–µ Service ID:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Certificates, Identifiers & Profiles ‚Üí Identifiers**
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π **Services ID**
   - –î–æ–±–∞–≤—å—Ç–µ **Return URLs:**
     - `https://[your-project-ref].supabase.co/auth/v1/callback`

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤ Supabase:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ **Supabase Dashboard ‚Üí Authentication ‚Üí Providers ‚Üí Apple**
   - –í—Å—Ç–∞–≤—å—Ç–µ **Services ID**, **Team ID**, **Key ID**, **Private Key**
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

## üìù –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `src/components/CompleteProfileScreen.tsx` - –≠–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
- ‚úÖ `supabase/migrations/005_oauth_providers.sql` - SQL –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è OAuth

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `src/lib/auth-universal.ts` - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ OAuth –∏ `updateUserGender()`
- ‚úÖ `src/components/AuthScreen.tsx` - –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–±–æ—Ä –ø–æ–ª–∞ –∏ –∫–Ω–æ–ø–∫–∏ OAuth
- ‚úÖ `src/App.tsx` - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–∞ –∏ —ç–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
- ‚úÖ `src/lib/auth-universal.ts` - –û–±–Ω–æ–≤–ª–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `AuthUser` –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è `gender`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –≤—ã–±–æ—Ä–æ–º –ø–æ–ª–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
2. –í–≤–µ–¥–∏—Ç–µ Email, –ü–∞—Ä–æ–ª—å, –ò–º—è
3. **–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª** (–ú—É–∂—á–∏–Ω–∞ –∏–ª–∏ –ñ–µ–Ω—â–∏–Ω–∞)
4. –ù–∞–∂–º–∏—Ç–µ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"
5. ‚úÖ –î–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
6. ‚úÖ –ü–æ–ª–µ `gender` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –ë–î

### –¢–µ—Å—Ç 2: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –±–µ–∑ –≤—ã–±–æ—Ä–∞ –ø–æ–ª–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
2. –í–≤–µ–¥–∏—Ç–µ Email, –ü–∞—Ä–æ–ª—å, –ò–º—è
3. **–ù–µ –≤—ã–±–∏—Ä–∞–π—Ç–µ –ø–æ–ª**
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–∂–∞—Ç—å "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"
5. ‚úÖ –ö–Ω–æ–ø–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞
6. ‚úÖ –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª"

### –¢–µ—Å—Ç 3: OAuth –≤—Ö–æ–¥ (Google/Apple)

1. –ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google" –∏–ª–∏ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Apple"
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤ OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ
3. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
4. ‚úÖ –ï—Å–ª–∏ `gender === null`, –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å—Å—è —ç–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
5. ‚úÖ –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª –∏ –Ω–∞–∂–º–∏—Ç–µ "–ó–∞–≤–µ—Ä—à–∏—Ç—å"
6. ‚úÖ –î–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

### –¢–µ—Å—Ç 4: Telegram Mini App

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Telegram Mini App
2. ‚úÖ –î–æ–ª–∂–Ω–∞ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
3. ‚úÖ –ï—Å–ª–∏ `gender === null`, –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å—Å—è —ç–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
4. ‚úÖ –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –ø–æ–ª–∞ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

### –¢–µ—Å—Ç 5: –í—Ö–æ–¥ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–µ–∑ –ø–æ–ª–∞

1. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ –ª—é–±–æ–π –º–µ—Ç–æ–¥ (Email, Phone, OAuth, Telegram)
2. –ï—Å–ª–∏ –≤ –ø—Ä–æ—Ñ–∏–ª–µ `gender === null`
3. ‚úÖ –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å—Å—è —ç–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
4. ‚úÖ –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –¥–æ –≤—ã–±–æ—Ä–∞ –ø–æ–ª–∞

## ‚ú® –ì–æ—Ç–æ–≤–æ!

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:
- ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –ø–æ–ª–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Google –∏ Apple
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram Mini App
- ‚úÖ –≠–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ OAuth —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤

**–ù–∞—Å—Ç—Ä–æ–π—Ç–µ OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –≤ Supabase Dashboard –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è!**
